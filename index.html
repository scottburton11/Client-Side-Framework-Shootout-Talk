<!DOCTYPE html>
<html>
  <head>
    <title>Client-Side MVC Shootout</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/highlight-custom.css">

    <script src="javascripts/highlight.js" type="text/javascript"></script>
    <script src="javascripts/highlight-coffee.js" type="text/javascript"></script>

    <script src="javascripts/jquery.min.js" type="text/javascript"></script>

    <link rel="stylesheet" type="text/css" href="stylesheets/styles.css">    
    <script src="javascripts/app.js" type="text/javascript"></script>
  </head>
  <body class='actual_orange'>
    <div id='impress' class='impress-not-supported'>
  
      <section id="intro">
        <div id="intro-blank" class="step" data-x="-4000" data-y="-4000" data-z="5000" data-rotate-x="-90" data-rotate-y="0" data-rotate-z="0" data-scale="1"></div>
      </section>

      <section id="we-have-a-problem">

        <div id="problem" class="step" data-x="0" data-y="0" data-z="0" data-rotate="0" data-scale="3">
          <h1>We have a problem</h1>
        </div>

        <div id="the-web-is-dead" class="step" data-x="1000" data-y="4000" data-z="500" data-rotate="0" data-scale="1"><img src="images/wired-web-is-dead.jpg"></div>

        <div id="native" class="step" data-x="1000" data-y="2000" data-z="0" data-rotate="0" data-scale="2"><h1>Native apps are eating our lunch</h1></div>

        <div id="http-apis" class="step" data-x="1000" data-y="8000" data-z="300" data-rotate="15" data-scale="2">
          <h2>Native apps</h2>
          <ul>
            <li>still use HTTP APIs</li>
            <li>are stuck with limited, closed distribution</li>
            <li>are <strong>crazy</strong> expensive to build</li>
          </ul>
        </div>

        <div id="traditional-apps" class="step" data-x="1000" data-y="10000" data-z="700" data-rotate="0" data-scale="3">
          <h1>Traditional web apps aren't cutting it</h1>
        </div>

        <div id="js-mess" class="step" data-x="1000" data-y="12000" data-z="400" data-rotate="0" data-scale="3">
          <h1>JS mess</h1>
          <div class='background mess_1'>
            <pre><code class="javascript">
                updateChart: function(chart){
                  var historicalSeries = chart.series.select(function(series) {return !series.options.forecast});
                  var forecastSeries   = chart.series.select(function(series) {return series.options.forecast});

                  for (var i = historicalSeries.length - 1; i >= 0; i--){
                    var thisSeries = historicalSeries[i];
                    this.updatePoints(thisSeries);
                  };
                  
                  for (var i = forecastSeries.length - 1; i >= 0; i--){
                    var thisSeries = forecastSeries[i];
                    var matchingHistoricalSeries = historicalSeries.select(function(series){ return series.options.resource == thisSeries.options.resource});
                    var initial_point = null;
                    if (matchingHistoricalSeries[0].data) {
                      var data = matchingHistoricalSeries[0].data
                      initial_point = data[data.length - 1]
                    };
                    this.updatePoints(thisSeries, initial_point);
                  };
                  
                  if (wellChart.options.logarithmic) {
                    
                  } else {
                    this.removeLogMinorPlotlines(chart);
                  };
                  
                  this.redraw(chart);
                },

            </code></pre>
          </div>          
          <div class='background mess_2'>
            <pre><code class="js">
                updatePoints: function(series, initial_point) {
                  var thisSeries = series;

                  for (var p=0; p < thisSeries.data.length; p++) {
                    var thisPoint = thisSeries.data[p];  
                    var thisValue;
                    
                    if (wellChart.options.cumulative) {

                      if (initial_point) {
                        if (p == 0) {
                          var cumulativeSum = initial_point.cumulative_value;
                        } else {
                          var cumulativeSum = thisPoint.cumulative_value + initial_point.cumulative_value;
                        };
                        if (wellChart.options.logarithmic) {
                          thisValue = log10(cumulativeSum);
                        } else {
                          thisValue = cumulativeSum;
                        };
                      } else {
                        if (wellChart.options.logarithmic) {
                          thisValue = thisPoint.cumulative_log10_value;
                        } else {
                          thisValue = thisPoint.cumulative_value;
                        };
                      };
                    } else {
                      if (wellChart.options.logarithmic) {
                        thisValue = thisPoint.log10_value;
                      } else {
                        thisValue = thisPoint.actual_value;
                      };
                    };

                    if (!(thisValue == null)) {
                      thisPoint.update(thisValue, false);
                    };
                  };

                },
            </code></pre>
          </div>
          <div class='background mess_3'>
            <pre><code class="js">
                setLogMinorPlotlines: function(chart){
                  var log_powers = range(0,7);
                  var log_steps = range(2,9).map(function(n){return log10(n)});
                  for (var a=0; a < chart.yAxis.length; a++) {
                    var thisAxis = chart.yAxis[a];
                    for (var p=0; p < log_powers.length; p++) {
                      var power = log_powers[p];
                      for (var s=0; s < log_steps.length; s++) {
                        var step = log_steps[s];
                        thisAxis.addPlotLine({value: power + step, color: "#ddd", width: 1, id: "yaxis-"+a+"-line-" + (power+step).toFixed(4)});
                      };
                    };
                  };
                },
                
                
                equalizeExtremes: function(chart){
                  var maxValue = Array.max(chart.series.map(function(series){ return series.data }).reduce(function(a,b) {return a.concat(b)} ).map(function(point){ return point.y }))
                  chart.yAxis.forEach(function(axis){
                    axis.setExtremes(0, Math.ceil(maxValue), false);
                  });
                },

                labelFormatter: function() {
                  var value;
                  if (wellChart.options.logarithmic) {
                    value = Math.round(Math.pow(10, this.value), 0);
                  } else {
                    value = this.value
                  };
                  
                  if (value >= Math.pow(10, 9)) {
                    value = value.toString().replace(/0{9}$/, "B");
                  } else
                  if (value >= Math.pow(10, 6)) {
                    value = value.toString().replace(/0{6}$/, "MM");
                  } else 
                  if (value >= Math.pow(10, 3)) {
                    value = value.toString().replace(/0{3}$/, "M");
                  };
                  return value;
                }
              };
            </code></pre>
          </div>
        </div>
        
        <div id="long-live-the-web" class="step" data-x="1000" data-y="15000" data-z="1000" data-rotate="0" data-scale="4"><h1>Long Live The Web?</h1></div>

      </section>

      <section id='title-card'>

        <div id="client-side-mvc-shootout" class="step" data-x="-1000" data-y="-1000" data-z="100" data-rotate-x="90" data-rotate-y="45" data-rotate-z="35" data-scale="3">
          <header>
            <h1>Client-Side Framework Shootout</h1>
          </header>
          <article class='by'>
            <h2>Scott Burton</h2>
            <h3>@scottburton</h3>
          </article>
          <footer>
            <p>ChaiOne chaione.com</p>
          </footer>
        </div>

      </section>

<!--       <section id="client-side-mvc">

        <div id="client-side-purpose" class="step" data-x="3000" data-y="1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Structure</h1>
        </div>

        <div id="mvc" class="step" data-x="3000" data-y="3000" data-z="0" data-rotate="0" data-scale="3">
          <h1>MVC</h1>
          <ul>
            <li>Familiar</li>
            <li>Plays well with resources</li>
            <li>Well-organized</li>
          </ul>
        </div>

        <div id="theres-a-catch" class="step" data-x="3500" data-y="9000" data-z="0" data-rotate-x="0" data-scale="3">
          <h1>There's a catch</h1>
        </div>

        <div id="theres-a-catch-bullets" class="step" data-x="3500" data-y="11000" data-z="6000" data-rotate-x="180" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <ul>
            <li>Opinionated</li>
            <li>Testing is hard</li>
            <li>Code duplication</li>
            <li>Longer iterations</li>
            <li>IE support is expensive</li>
          </ul>
        </div>

        <div id="unexpected-upsides" class="step" data-x="3500" data-y="11000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Unexpected upsides</h1>
        </div>

        <div id="unexpected-upsides-api" class="step" data-x="3500" data-y="11000" data-z="1000" data-rotate-x="90" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>You need an API anyway</h1>
          <h2>Just build it now</h2>
          <ul>
            <li>Don't listen to your first customer (you)</li>
          </ul>
        </div>

      </section> -->


      <!-- 
      <section id="tips">
        <div id="denormalize" class="step" data-x="6000" data-y="-1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Denormalize</h1>
        </div>

        <div id="denormalize-one-tweet-top" class="step" data-x="-6000" data-y="-10000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3"></div>

        <div id="denormalize-one-tweet" class="step nofade" data-x="-6000" data-y="-9000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <pre>
            <code class='javascript small'>

                            {
                                "place":
                                {
                                    "bounding_box":
                                    {
                                        "type":"Polygon",
                                        "coordinates":
                                        [ [ [ -118.4038571, 14.5319181 ], [  -86.7122178, 14.5319181 ], [  -86.7122178, 32.718919 ], [ -118.4038571, 32.718919 ] ] ]
                                    },
                                    "place_type":"country",
                                    "url":"http:\/\/api.twitter.com\/1\/geo\/id\/25530ba03b7d90c6.json",
                                    "country":"Mexico",
                                    "attributes":
                                    {
                                    },
                                    "full_name":"Mexico",
                                    "country_code":"MX",
                                    "name":"Mexico",
                                    "id":"25530ba03b7d90c6"
                                },
                                "retweet_count":0,
                                "in_reply_to_status_id":null,
                                "text":"Enchiladas pa' @MeryAldecoaFN #fb http:\/\/t.co\/pwTuyxM",
                                "created_at":"Sat Aug 13 21:40:34 +0000 2011",
                                "possibly_sensitive":false,
                                "geo":null,
                                "in_reply_to_user_id":null,
                                "coordinates":null,
                                "source":"web",
                                "favorited":false,
                                "in_reply_to_status_id_str":null,
                                "id_str":"102494776812765184",
                                "in_reply_to_screen_name":null,
                                "truncated":false,
                                "in_reply_to_user_id_str":null,
                                "user":
                                {
                                    "default_profile":false,
                                    "created_at":"Sun Feb 21 23:02:04 +0000 2010",
                                    "friends_count":729,
                                    "profile_sidebar_border_color":"eeeeee",
                                    "is_translator":false,
                                    "time_zone":"Mountain Time (US & Canada)",
                                    "listed_count":3,
                                    "statuses_count":6263,
                                    "following":null,
                                    "profile_use_background_image":true,
                                    "favourites_count":85,
                                    "profile_background_image_url_https":"https:\/\/si0.twimg.com\/profile_background_images\/274430286\
                                                                                /208294_121405394600266_100001924179739_158818_1093320_n.jpg",
                                    "profile_background_color":"131516",
                                    "description":"Amo a @Tbambino...!! Lo Amooo de Amar \u27b3 \u2665 \/\/
                                                                         Cumplo el 5 de Julio...! & ya ! xD Dlb",
                                    "profile_background_image_url":"http:\/\/a0.twimg.com\/profile_background_images\
                                                                          /274430286\/208294_121405394600266_100001924179739_158818_1093320_n.jpg",
                                    "url":null,
                                    "profile_image_url":"http:\/\/a1.twimg.com\/profile_images\/1486582056\/Corn_Flakes_WTF_3.3_____normal.jpg",
                                    "default_profile_image":false,
                                    "notifications":null,
                                    "profile_text_color":"333333",
                                    "profile_image_url_https":"https:\/\/si0.twimg.com\/profile_images\/1486582056\/Corn_Flakes_WTF_3.3_____normal.jpg",
                                    "profile_sidebar_fill_color":"efefef",
                                    "followers_count":258,
                                    "protected":false,
                                    "screen_name":"jenibambina",
                                    "id_str":"116293802",
                                    "profile_background_tile":true,
                                    "location":"Honduras",
                                    "name":"Jeniffer Escalante",
                                    "follow_request_sent":null,
                                    "contributors_enabled":false,
                                    "verified":false,
                                    "id":116293802,
                                    "show_all_inline_media":true,
                                    "lang":"es",
                                    "geo_enabled":true,
                                    "utc_offset":-25200,
                                    "profile_link_color":"009999"
                                },
                                "id":102494776812765184,
                                "entities":
                                {

                                    "hashtags":
                                    [ {  "text":"fb", "indices": [  30, 33 ] } ],
                                    "media":
                                    [ { "type":"photo", "indices": [ 34, 53 ],
                                            "media_url":"http:\/\/p.twimg.com\/AWwidNuCAAIX91v.jpg",
                                            "url":"http:\/\/t.co\/pwTuyxM",
                                            "expanded_url":"http:\/\/twitter.com\/jenibambina\/status\/102494776812765184\/photo\/1",
                                            "display_url":"pic.twitter.com\/pwTuyxM",
                                            "id_str":"102494776816959490",
                                            "media_url_https":"https:\/\/p.twimg.com\/AWwidNuCAAIX91v.jpg",
                                            "id":102494776816959490,
                                            "sizes":
                                            { "large": { "resize":"fit", "h":480, "w":640 },
                                              "thumb": { "resize":"crop", "h":150, "w":150 },
                                              "medium": { "resize":"fit", "h":480, "w":640 },
                                              "small": { "resize":"fit", "h":480, "w":640 }
                                            }
                                        }
                                    ],
                                },
                            }
            </code>
          </pre>
        </div>

        <div id="denormalize-one-tweet-bottom" class="step" data-x="-6000" data-y="-8000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3"></div>

        <div id="denormalize-has-many" class="step" data-x="6000" data-y="1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <ul class='mono'>
            <li>has_many</li>
            <li>has_one</li>
            <li>belongs_to</li>
            <li>Virtual attributes</li>
            <li>Delegated attributes</li>
          </ul>
          <pre>
            <code>
collection @engagements
attributes :id, :first_name, :middle_name, :last_name, :masked_ssn, :email

node :address do
  attributes :street_1, :street_2, :city, :state, :postal_code
end

node :files do
  attributes :id, :description, :category, :engagement_id, :created_at

  code :file_name do |e|
    e.file_name
  end
end
            </code>
          </pre>
        </div>

         <div id="denormalize-careful-with-through" class="step" data-x="6000" data-y="3000" data-z="4000" data-rotate-x="-90" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h2>careful with <span class='mono'>:through =></span></h2>
          <ul>
            <li>respect other owners</li>
            <li></li>
          </ul>
        </div> 

        <div id="bootstrap" class="step" data-x="6000" data-y="5000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Bootstrap common assets</h1>
        </div>

        <div id="bootstrap-layout" class="step" data-x="6000" data-y="7000" data-z="500" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h2>Cacheable layout</h2>
          <ul>
            <li>Depersonalize</li>
            <li>Asset package</li>
            <li>App shell</li>
          </ul>
        </div>

        <div id="bootstrap-common" class="step" data-x="6000" data-y="9000" data-z="700" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h2>Common domain objects</h2>
          <ul>
            <li>US States</li>
            <li>Categories</li>
          </ul>
        </div>

        <div id="bootstrap-data" class="step" data-x="6000" data-y="11000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Bootstrap data?</h1>
        </div>

        <div id="bootstrap-data-depends" class="step" data-x="6000" data-y="11000" data-z="-1000" data-rotate-x="90" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h2>it depends on who you ask</h2>
        </div>
      
        <div id="empty-templates" class="step" data-x="6000" data-y="14000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Empty template</h1>
          <pre><code class='ruby'>
            # app/views/products/show.html.erb








          </code></pre>
        </div>

        <div id="bootstrapped-templates" class="step" data-x="6000" data-y="17000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Bootstrapped template</h1>
          <pre><code class=''>
            # app/views/products/show.html.erb

            &lt;script type='text/javascript' data-type='project'&gt;
              window.app.products = <%= escape_javascript(@products.to_json) %>
            &lt;/script&gt;

          </code></pre>
        </div>

        <div id="respond-to-every-route" class="step" data-x="6000" data-y="15500" data-z="3000" data-rotate-x="90" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Respond to every route with HTML</h1>
          <pre>
            <code>
class ProductsController < ApplicationController
  respond_to :json, :html
  ....

            </code>
          </pre>
        </div>

      </section>

-->

      <section id="criteria">

        <div id="criteria-over-it" class="step" data-x="-3000" data-y="-1000" data-z="12000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>We're sorta over it already</h1>
        </div>

        <div id="criteria-all-frameworks" class="step" data-x="-3000" data-y="-3000" data-z="15000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>DOM management</h1>
          <h1>State management</h1>
        </div> 

        <div id="criteria-hard-questions" class="step" data-x="-3000" data-y="-5000" data-z="20000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Hard Questions:</h1>
          <ul><li>Can I write a large app?</li><li>Can I show someone else how it works?</li><li>Should I spend my client's money on it?</li></ul>
        </div>

        <div id="criteria-large-app" class="step" data-x="-3000" data-y="-7000" data-z="25000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Can I write a large app?</h1>
          <ul>
            <li>Is it simple to structure an app?</li>
            <li>Is the cost of adding features flat?</li>
          </ul>
        </div>

        <div id="criteria-transitioning" class="step" data-x="-3000" data-y="-9000" data-z="30000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Can I show someone else <br/>how it works?</h1>
          <h2>How fast can I:</h2>
          <ul>
            <li>onboard another developer?</li>
            <li>onboard a client's team?</li>
            <li>learn it myself?</li>
          </ul>
        </div>

        <div id="criteria-spend-money" class="step" data-x="-3000" data-y="-11000" data-z="35000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Should I spend my client's <br/>money on it?</h1>
          <ul>
            <li>Are changes expensive?</li>
            <li>How much risk does it introduce to my schedule?</li>
            <li>Does it cause more problems than it solves?</li>
          </ul>
        </div>
      </section>

      <section id="framework-philosophies">

        <section id="backbone">
          <div id="backbone-title" class="step" data-x="8500" data-y="1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Backbone.js</h1>
          </div>

          <div id="backbone-points" class="step" data-x="8500" data-y="6000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Backbone.js</h1>
            <ul>
              <li>Flexible</li>
              <li>Lightweight</li>
              <li>Few dependencies</li>
              <li>Good docs</li>
              <li>Readable source</li>
            </ul>
          </div>
<!-- 
          <div id="backbone-components-views" class="step" data-x="8500" data-y="8000" data-z="5000" data-rotate-x="90" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Backbone.js</h1>
            <h2>Views</h2>
            <ul>
              <li>Rendering</li>
              <li>Event handling</li>
            </ul>
          </div>

          <div id="backbone-components-model" class="step" data-x="8500" data-y="10000" data-z="6000" data-rotate-x="180" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Backbone.js</h1>
            <h2>Models</h2>
            <ul>
              <li>Key-value storage</li>
              <li>Persistence</li>
            </ul>
          </div>

          <div id="backbone-components-view" class="step" data-x="8500" data-y="12000" data-z="7000" data-rotate-x="270" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Backbone.js</h1>
            <h2>Collections</h2>
            <ul>
              <li>Arbitrary collections</li>
              <li>Array proxy</li>
              <li>_.</li>
            </ul>
          </div>

          <div id="backbone-components-events" class="step" data-x="8500" data-y="16000" data-z="8000" data-rotate-x="240" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Backbone.js</h1>
            <h2>Events</h2>
            <ul>
              <li>General-purpose abstraction</li>
              <li>Lightweight coupling across layers</li>
            </ul>
          </div>
 -->
        </section>

        <section id="spine">
          <div id="spine-title" class="step" data-x="12000" data-y="-1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Spine.js</h1>
          </div>

          <div id="spine-points" class="step" data-x="12000" data-y="3000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Spine.js</h1>
            <ul>
              <li>Simplifies common patterns</li>
              <li>Never block the UI</li>
              <li>Wants to manage your resources</li>
              <li>Models *are* collections</li>
              <li>Prototypical</li>
              <li>Excellent docs</li>
              <li>Readable source</li>
            </ul>
          </div>

          <div id="spine-duplicate-logic" class="step" data-x="12000" data-y="7000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>You'll end up duplicating</h1>
            <ul>
              <li>Validators</li>
              <li>Virtual accessors</li>
            </ul>
          </div>


<!--           <div id="spine-components-controller" class="step" data-x="12000" data-y="6000" data-z="0" data-rotate-x="-60" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Spine.js</h1>
            <h2>Controllers</h2>
            <ul>
              <li>Rendering</li>
              <li>DOM event handling</li>
              <li>Routing</li>
            </ul>
          </div>

          <div id="spine-components-models" class="step" data-x="12000" data-y="9000" data-z="0" data-rotate-x="-120" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Spine.js</h1>
            <h2>Models</h2>
            <ul>
              <li>Key-value storage</li>
              <li>(fixed) Collection management</li>
              <li>Support for associations</li>
            </ul>
          </div>

          <div id="spine-components-stacks" class="step" data-x="12000" data-y="12000" data-z="0" data-rotate-x="-180" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Spine.js</h1>
            <h2>Stacks</h2>
            <ul>
              <li>Extends Controller</li>
              <li>View state machine</li>
              <li>Manage visibility</li>
              <li>Heirarchy building block</li>
            </ul>
          </div>

          <div id="spine-components-stacks-example" class="step" data-x="12000" data-y="12000" data-z="0" data-rotate-x="-90" data-rotate-y="0" data-rotate-z="0" data-scale="2">
            <pre>
              <code>
App.Controllers.Products.Section = class Products extends Spine.Stack

  @controllers = 
    index: App.Controllers.Products.Index.Main
    show:  App.Controllers.Products.Show.Main

  render: ->
    @index.render()
    @                
              </code>
            </pre>
          </div>

          <div id="spine-components-events" class="step" data-x="12000" data-y="15000" data-z="0" data-rotate-x="-240" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Spine.js</h1>
            <h2>Events</h2>
            <ul>
              <li>General-purpose abstraction</li>
              <li>Lightweight coupling across layers</li>
              <li>Questionable implementation</li>
            </ul>
          </div> -->
        </section>

        <section id="ember">

          <div id="ember-intro" class="step" data-x="15500" data-y="-1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Ember.js</h1>
          </div>

          <div id="ember-points" class="step" data-x="15500" data-y="3000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Ember.js</h1>
            <ul>
              <li>"Eliminate Boilerplate"</li>
              <li>Declarative</li>
              <li>Highly opinionated</li>
              <li>Don't manage the DOM yourself</li>
              <li>Documentation is StackOverflow &amp; gist.github.com</li>
            </ul>
          </div>

<!--           <div id="ember-components-bindings" class="step" data-x="15500" data-y="5000" data-z="2000" data-rotate-x="60" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Ember.js</h1>
            <h2>Property bindings</h2>

            <pre>
              <code>
App.pinyo = Ember.Object.create({hoobatz: "maguro"})
App.panko = Ember.Object.create({hoobatzBinding: "App.pinyo.hoobatz"})

App.panko.get("hoobatz")
-> "maguro"
              </code>
            </pre>
            <ul>
              <li>Auto-sync data across layers</li>
              <li>Declarative</li>
            </ul>
          </div>

          <div id="ember-components-computed-properties" class="step" data-x="15500" data-y="7000" data-z="4000" data-rotate-x="120" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Ember.js</h1>
            <h2>Computed properties</h2>
            <pre>
              <code>
itemsInCart: (-> @get("content").length ).property()
              </code>
            </pre>
            <ul>
              <li>Treat <code>function()</code> like property</li>
              <li>Can have dependent properties</li>
              <li>Composition across layers</li>
            </ul>
          </div>

          <div id="ember-components-autoupdating-views" class="step" data-x="15500" data-y="9000" data-z="8000" data-rotate-x="180" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Ember.js</h1>
            <h2>Auto-updating views</h2>
            <ul>
              <li>Views react to property changes</li>
              <li>No calls to <code>render()</code></li>
              <li>Per-property - eliminates reflows</li>
              <li><strong>Only</strong> Handlebars.js</li>
              <li>DOM madness</li>
            </ul>
          </div>

          <div id="ember-components-everything-else" class="step" data-x="15500" data-y="11000" data-z="12000" data-rotate-x="240" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Ember.js</h1>
            <h2>Everything else</h2>
            <ul>
              <li>Object</li>
              <li>View</li>
              <li>ArrayController</li>
              <li>State</li>
              <li>...</li>
            </ul>
          </div> -->
        </section>
      </section>

      <section id="demo">
        <div id="demo-great" class="step" data-x="21000" data-y="1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>They're all pretty great</h1>
        </div>

        <div id="demo-which-one" class="step" data-x="21000" data-y="3000" data-z="0" data-rotate-x="0" data-rotate-y="180" data-rotate-z="180" data-scale="3">
          <h1>...but which one is for me?</h1>
        </div>

        <section id="demo-constraints">
          <div id="demo-constraints-title" class="step" data-x="24000" data-y="-2000" data-z="0" data-rotate-x="0" data-rotate-y="" data-rotate-z="15" data-scale="3">
            <h1>Demo Criteria</h1>
          </div>

          <div id="demo-constraints-one-page" class="step" data-x="24000" data-y="1000" data-z="0" data-rotate-x="0" data-rotate-y="15" data-rotate-z="30" data-scale="3">
            <h1>One page</h1>
          </div>

          <div id="demo-constraints-organized" class="step" data-x="24000" data-y="4000" data-z="0" data-rotate-x="15" data-rotate-y="30" data-rotate-z="45" data-scale="3">
            <h1>Organized</h1>
          </div>

          <div id="demo-constraints-no-3rd-party" class="step" data-x="24000" data-y="7000" data-z="0" data-rotate-x="30" data-rotate-y="45" data-rotate-z="60" data-scale="3">
            <h1>(almost) no third-party libraries</h1>
          </div>

          <div id="demo-constraints-only-what-ships" class="step" data-x="24000" data-y="10000" data-z="0" data-rotate-x="45" data-rotate-y="60" data-rotate-z="75" data-scale="3">
            <h1>Use only what shipped</h1>
          </div>

          <div id="demo-features" class="step" data-x="24000" data-y="13000" data-z="0" data-rotate-x="0" data-rotate-y="75" data-rotate-z="90" data-scale="3">
            <h1>Features</h1>
            <ul>
              <li>List &amp; Detail views</li>
              <li>Scrolling pagination</li>
              <li>State management with URLs</li>
            </ul>
          </div>

        </section>

        <section>

          <div id="slides-here" class="step" data-x="24000" data-y="15000" data-z="5000" data-rotate-x="45" data-rotate-y="-35" data-rotate-z="0" data-scale="3">
            <h1>Follow along:</h1>
            <h2>github/scottburton11<br/>Client-Side-Framework-Shootout-Talk</h2>
          </div>

        </section>

        <section id="rendering-views">
          <div id="demo-rendering-views" class="step" data-x="27000" data-y="0" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Rendering Views</h1>
            <h2>Backbone &amp; Spine</h2>
          </div>

          <div id="demo-rendering-views-concepts" class="step" data-x="27000" data-y="3000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <ul>
              <li>Make HTML fragment</li>
              <li>Stick it in</li>
            </ul>
          </div>

          <div id="demo-rendering-views-responsibility" class="step" data-x="27000" data-y="6000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2>You are responsible for</h2>
            <ul>
              <li>where to stick it</li>
              <li>cleaning up after it</li>
            </ul>
          </div>

          <div id="demo-rendering-views-el" class="step" data-x="27000" data-y="9000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1 class='mono'>@el | @$el</h1>
            <ul>
              <li>jQuery-wrapped element selector</li>
              <li>unattached from the DOM</li>
            </ul>
            
          </div>

          <div id="demo-rendering-views-spine-helpers" class="step" data-x="27000" data-y="12000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Spine jQuery Helpers</h1>
            <ul class='api-doc'>
              <li>@html</li>
              <li>@append</li>
              <li>@prepend</li>
              <li>@remove</li>
              <li>...</li>
            </ul>
          </div>

<!--           <div id="demo-rendering-views-spine-elements-and-events" class="step" data-x="27000" data-y="15000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Spine <code>elements</code> &amp; <code>events</code></h1>
            <pre>
              <code>
  elements:
    "button" : "buttonEl"
    "form"   : "formEl"

  events: 
    "click button" : "addToCart"
              </code>
            </pre>
            <ul>
              <li><code>elements</code> creates $() wrapped properties</li>
              <li><code>events</code> binds (or delegates) DOM events</li>
            </ul>
          </div>
 -->
          <section id="demo-list-item-view">
            <section id="demo-list-item-view-backbone" class='backbone'>
              <div id="demo-list-item-backbone-template" class="step" data-x="30000" data-y="1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
                <h1>Template</h1>
                <pre>
                  <code>
  &lt;div&gt;
    &lt;img src="&lt;%= @image_url %&gt;"/&gt;
  &lt;/div&gt;
  &lt;header&gt;
    &lt;h2&gt;&lt;%= @designer_name %&gt;&lt;/h2&gt;
    &lt;h1&gt;&lt;%= @name %&gt;&lt;/h1&gt;
    &lt;p class="price">&lt;%= @price %&gt;&lt;/p&gt;
  &lt;/header&gt;
                  </code>
                </pre>
              </div>



              <div id="demo-list-item-backbone-view" class="step" data-x="30000" data-y="6000" data-z="0" data-rotate-x="15" data-rotate-y="0" data-rotate-z="0" data-scale="3">

                <h2>List Item</h2>
                <pre>
                  <h3 class='framework-name'>Backbone</h3>
                  <code >
  # app/assets/javascripts/app/views/products/index/item
  App.Views.Products.Index.Item = class Item extends Backbone.View

    tagName: "article"
    className: "item product"

    events:
      "click" : "navigateToItem"

    initialize: ->
      @model.on "change", @render
      @model.on "remove", @remove

    render: =>
      @$el.html JST["app/templates/products/index/item"](@model.toJSON())
      @

    navigateToItem: (e) =>
      App.router.navigate "/products/#{@model.get('id')}",
        trigger: true
      e.preventDefault()
                  </code>
                </pre>
              </div>

              <div id="demo-list-item-spine-view" class="step" data-x="30000" data-y="6000" data-z="5000" data-rotate-x="15" data-rotate-y="0" data-rotate-z="0" data-scale="3">

                <h2>List Item</h2>
                <pre>
                  <h3 class='framework-name'>Spine</h3>
                  <code >
  # app/assets/javascripts/app/controllers/products/index/item
  App.Controllers.Products.Index.Item = class Item extends Spine.Controller

    tagName: "article"
    className: "product item"

    events: 
      "click" : "navigateToItem"

    constructor: ->
      super
      @item.bind "change", @render
      @item.bind "remove", @release

    render: =>
      @html JST["app/views/products/index/item"](@item)
      @

    navigateToItem: (e) ->
      @navigate(@item.url())
      e.preventDefault()
                  </code>
                </pre>
              </div>
            </section>
          </section>

          <section id="demo-list-view">
            <section id="demo-list-view-backbone" class="backbone">
              <div id="demo-list-view-backbone-list" class="step" data-x="30000" data-y="10000" data-z="0" data-rotate-x="30" data-rotate-y="0" data-rotate-z="0" data-scale="3">
                <h2>List</h2>
                <pre>
                  <h3 class='framework-name'>Backbone</h3>
                  <code>
  # app/assets/javascripts/app/views/products/index/list                  
  App.Views.Products.Index.List = class List extends Backbone.View
    
    initialize: ->
      @collection.on "reset", @addAll
      @collection.on "add",   @addOne

    render: (category) ->
      @blankSlate(category)
      @collection.changeCategory(category)
      @

    addAll: =>
      @addOne(item) for item in @collection.models
      @trigger "added", @collection.models

    addOne: (item) =>
      @$el.append(new App.Views.Products.Index.Item(model: item).render().el)
      @trigger "added", item
    ...
                  </code>
                </pre>
              </div>

              <div id="demo-collection-persistence-paging" class="step" data-x="30000" data-y="10000" data-z="2000" data-rotate-x="90" data-rotate-y="0" data-rotate-z="0" data-scale="3">
                <h1>Pagination headers</h1>
                <pre>
                  <code>
    X-Pagination: page: 2, per_page: 20, next_page: 3, total_pages: 37
                  </code>
                </pre>
              </div>

              <div id="demo-collection-backbone-persistence-ajax-options" class="step" data-x="30000" data-y="10000" data-z="4000" data-rotate-x="90" data-rotate-y="0" data-rotate-z="0" data-scale="3">
                <h1>Paging</h1>
                <pre>
                  <h3 class='framework-name'>Backbone</h3>
                  <code>
# app/assets/javascripts/app/collections/products
App.Collections.Products = class Products extends Backbone.Collection
  url: "/products"

  changeStore: (store) ->
    @next_page = 1
    @store = store
    @nextPage(add: false)

  nextPage: (options) =>
    options = options or {}
    options = $.extend {}, {add: true}, options
    @fetch
      data: 
        page:     @next_page
        per_page: @calculatePerPage()
        category: @category
      add: options.add
...
                  </code>
                </pre>
              </div>

              <div id="demo-collection-backbone-persistence-parse-page-headers" class="step" data-x="30000" data-y="10000" data-z="6000" data-rotate-x="90" data-rotate-y="0" data-rotate-z="0" data-scale="3">
                <h1>Parsing</h1>
                <pre>
                  <h3 class='framework-name'>Backbone</h3>
                  <code>
# app/assets/javascripts/app/collections/products
App.Collections.Products = class Products extends Backbone.Collection
...
parse: (data, xhr) ->
  @handlePaging(xhr)
  super data, xhr

handlePaging: (xhr) ->
  paginationHeader = xhr.getResponseHeader("X-Pagination")
  for segment in paginationHeader.split(", ")
    do (segment) =>
      [key, value] = segment.split(": ")
      @[key] = parseInt(value)

                  </code>
                </pre>
              </div>

            </section>



          </section>

          <section id='rendering-views-ember'>
            <div id="demo-rendering-views-ember" class="step" data-x="30000" data-y="13000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
              <h1>Ember</h1>
            </div>

            <div id="demo-rendering-views-ember-concepts" class="step" data-x="30000" data-y="15000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
              <ul>
                <li>Declare view properties</li>
                <li>Don't touch the merchandise</li>
              </ul>
            </div>

            <div id="demo-rendering-views-ember-template-all-dom" class="step" data-x="30000" data-y="22000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
              <h1 class='foreground'>TL;DR</h1>
              <pre>
                <code class='small'>
&lt;body&gt;
  &lt;div id='main' class='container'&gt;
    &lt;script type=&quot;text/x-handlebars&quot; data-template-name=&quot;index&quot;&gt;
      &lt;div&gt;
        &lt;h1&gt;{{title}}&lt;/h1&gt;
        {{view &quot;App.ListView&quot; contentBinding=&quot;list&quot;}}
        &lt;div class='waypoint'&gt;&lt;/div&gt;
      &lt;/div&gt;
    &lt;/script&gt;

    &lt;script type=&quot;text/x-handlebars&quot; data-template-name=&quot;item&quot;&gt;
      &lt;article class='product item'&gt;
        &lt;div&gt;&lt;img {{bindAttr src=&quot;image_url&quot;}}/&gt;&lt;/div&gt;
        &lt;header&gt;
          &lt;h2&gt;{{designer_name}}&lt;/h2&gt;
          &lt;h1&gt;{{name}}&lt;/h1&gt;
          &lt;p class=&quot;price&quot;&gt;{{price}}&lt;/p&gt;
        &lt;/header&gt;
      &lt;/article&gt;
    &lt;/script&gt;

    &lt;script type='text/x-handlebars' data-template-name='detail'&gt;
      &lt;article id='detail'&gt;
        {{#if content}}
          {{#with content}}
          &lt;header&gt;
            &lt;ul class=&quot;breadcrumb&quot;&gt;
              &lt;li&gt;
                &lt;a {{bindAttr href=&quot;categoryFragment&quot;}} class=&quot;navigable&quot;&gt;{{category}}&lt;/a&gt;&lt;span class='divider'&gt;/&lt;/span&gt;
              &lt;/li&gt;
              &lt;li class='active'&gt;
                &lt;a {{bindAttr href=&quot;itemUrl&quot;}} class=&quot;navigable&quot;&gt;
                  {{designer_name}} - {{name}}
                &lt;/a&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/header&gt;
          &lt;aside&gt;
            &lt;div&gt;&lt;img {{bindAttr src=&quot;image_url&quot;}}/&gt;&lt;/div&gt;
            &lt;div&gt;&lt;/div&gt;
          &lt;/aside&gt;
          &lt;section&gt;
            &lt;header&gt;
              &lt;h2&gt;{{designer_name}}&lt;/h2&gt;
              &lt;h1&gt;{{name}}&lt;/h1&gt;
              &lt;p class=&quot;price&quot;&gt;{{price}}&lt;/p&gt;
            &lt;/header&gt;
            {{/with}}
            &lt;div class='action'&gt;
              &lt;button {{bindAttr class=&quot;inCart&quot;}} {{action &quot;addToCart&quot;}} {{bindAttr disabled=&quot;inCart&quot;}}&gt;{{cartStatus}}&lt;/button&gt;
            &lt;/div&gt;
            &lt;div class='description'&gt;
              &lt;ul&gt;
                {{#each "descriptionItems"}}
                  &lt;li&gt;{{this}}&lt;/li&gt;
                {{/each}}
              &lt;/ul&gt;
            &lt;/div&gt;
          &lt;/section&gt;
        {{/if}}
      &lt;/article&gt;
    &lt;/script&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;

                </code>
              </pre>
            </div>

            <div id="demo-views-ember-template-list-item-template" class="step" data-x="30000" data-y="25500" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
              <h2>Template</h2>
              <pre>
                <h3 class='framework-name'>Ember</h3>
                <code>
    &lt;script type=&quot;text/x-handlebars&quot; data-template-name=&quot;item&quot;&gt;
      &lt;article class='product item'&gt;
        &lt;div&gt;&lt;img {{bindAttr src=&quot;image_url&quot;}}/&gt;&lt;/div&gt;
        &lt;header&gt;
          &lt;h2&gt;{{designer_name}}&lt;/h2&gt;
          &lt;h1&gt;{{name}}&lt;/h1&gt;
          &lt;p class=&quot;price&quot;&gt;{{price}}&lt;/p&gt;
        &lt;/header&gt;
      &lt;/article&gt;
    &lt;/script&gt;
                </code>
              </pre>
            </div>

            <div id="demo-views-ember-template-list-item" class="step" data-x="30000" data-y="28000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
              <h2>List Item</h2>
              <pre>
                <h3 class='framework-name'>Ember</h3>
                <code>
# app/assets/javascripts/views/products/item
App.ItemView = Ember.View.extend
  templateName: "item"
  className: ["product"]
                </code>
              </pre>
            </div>

            <div id="demo-views-ember-list-controller" class="step" data-x="30000" data-y="30500" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
              <h2>List</h2>
              <pre>
                <h3 class='framework-name'>Ember</h3>
                <code>
# app/assets/javascripts/controllers/items
App.ItemsController = Ember.ArrayController.extend
  init: ->
    @_super()
    @resetContent()

  resetContent: ->
    ...
    @set("content", [])
                </code>
              </pre>
              <pre>
                <code>
# app/assets/javascripts/views/products/list
App.ListView = Ember.CollectionView.extend
  itemViewClass: "App.ItemView"
  classNames: ["products list"]

                </code>
              </pre>
            </div>

            <div id="demo-views-ember-template-list-view" class="step" data-x="30000" data-y="32500" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
              <h1>Index View</h1>
              <pre>
                <h3 class='framework-name'>Ember</h3>
                <code>
&lt;script type=&quot;text/x-handlebars&quot; data-template-name=&quot;index&quot;&gt;
  &lt;div&gt;
    &lt;div class=&quot;item placcard&quot;&gt;
      &lt;h1&gt;{{title}}&lt;/h1&gt;
    &lt;/div&gt;
    {{view &quot;App.ListView&quot; contentBinding=&quot;content&quot;}}
    &lt;div class='waypoint'&gt;&lt;/div&gt;
  &lt;/div&gt;
&lt;/script&gt;
                </code>
              </pre>
              <pre>
                <code>
# app/assets/javascripts/views/products/index
App.IndexView = Ember.View.extend
  templateName: "index"
  classNames: ["index"]
...
              </code>
              </pre>
            </div>

            <div id="demo-views-ember-list-main" class="step" data-x="30000" data-y="35000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
              <h1>Kick it off</h1>
              <pre>
                <h3 class='framework-name'>Ember</h3>
                <code>
# app/assets/javascripts/app/main
$ -> 
  App.itemsController = App.ItemsController.create
    category: "MEN"

  App.index = App.IndexView.create
    content: App.itemsController

  App.itemsController.getItems()
                </code>
              </pre>
            </div>

            <div id="demo-views-ember-list-wait" class="step" data-x="30000" data-y="38000" data-z="0" data-rotate-x="0" data-rotate-y="45" data-rotate-z="0" data-scale="3">
              <h1>wait</h1>
            </div>

            <div id="demo-views-ember-list-go-back" class="step" data-x="30000" data-y="41000" data-z="0" data-rotate-x="0" data-rotate-y="90" data-rotate-z="0" data-scale="3">
              <h1>go back</h1>
            </div>

            <div id="demo-views-ember-list-rails-magic" class="step" data-x="30000" data-y="44000" data-z="0" data-rotate-x="20" data-rotate-y="180" data-rotate-z="0" data-scale="3">
              <h1>And you thought Rails was magic</h1>
            </div>

            <div id="demo-views-ember-madness" class="step" data-x="30000" data-y="48000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
              <h1>DOM madness</h1>
              <img src='images/ember-dom-madness.tiff' />
            </div>

            <div id="demo-views-ember-but-wait" class="step" data-x="30000" data-y="52000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
              <h1>Wait, hold on</h1>
              <h2>I thought you said Ember <br/>broke all of that?</h2>
            </div>



          </section>

        </section>




        <!-- App Setup -->




        <section id="demo-app">
          <div id="demo-app-setup" class="step" data-x="43000" data-y="1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>App setup</h1>
          </div>

          <div id="demo-app-main-spine" class="step" data-x="43000" data-y="5000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <pre>
              <h3 class='framework-name'>Spine</h3>
              <code>
# app/assets/javascripts/app/main
App.Main = class Main extends Spine.Controller
  constructor: ->
    super

    @products = new App.Controllers.Products.Section

    @sections = [@products, ...]

    @manager = new Spine.Manager(@sections...)

    ...
  render: ->
    @append section.render().el for section in @sections
    @
              </code>
            </pre>
          </div>

          <div id="demo-app-main-backbone" class="step" data-x="43000" data-y="8000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <pre>
              <h3 class='framework-name'>Backbone</h3>
              <code>
# app/assets/javascripts/app/main
App.MainView = class Main extends Backbone.View

  initialize: ->
    @products = new App.Views.Products.Section

    @sections = [@products, ..]


  render: ->
    @$el.append(section.render().el) for section in @sections
    @

              </code>
            </pre>
          </div>

          <div id="demo-app-backbone-activate" class="step" data-x="43000" data-y="8000" data-z="2000" data-rotate-x="90" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2>#activate() pattern</h2>
            <pre>
              <h3 class='framework-name'>Backbone</h3>
              <code>
App.Views.Products.Section = class Products extends Backbone.View
  ....
  activate: (active_controller) ->
    controller.deactivate() for controller in @controllers when controller isnt active_controller
    active_controller.activate()
              </code>
            </pre> 
          </div>


          <div id="demo-app-main-ember" class="step" data-x="43000" data-y="11000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <pre>
              <h3 class='framework-name'>Ember</h3>
              <code>
# app/assets/javascripts/app/main
App.MainController = Ember.Object.extend
  init: -> 
    @_super()

    @itemsController = App.ItemsController.create(category: "MEN")

    @index = App.IndexView.create
      list: @itemsController
      titleBinding: "list.categoryTitle"  

    @detail = App.ProductController.create
      content: null
      cart: @cart

    @detailController = App.ProductController.create
      content: null
      cart: @cart

    @detail = App.DetailView.create
      inCartBinding: "detailController.inCart"
      contentController: @detailController
      categoryBinding: "@itemsController.category"

  render: ->
    @get("itemsController").getItems()
              </code>
            </pre>
          </div>
        </section>


        
        <!-- Routing -->



        <section id='demo-routing'>
          <div id="demo-routing-intro" class="step" data-x="37000" data-y="-2000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Routing</h1>
          </div>

          <div id="demo-routing-srp" class="step" data-x="37000" data-y="1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Why?</h1>
            <h2>State management</h2>
          </div>

          <div id="demo-routing-why" class="step" data-x="37000" data-y="4000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Why?</h1>
            <ul>
              <li>Supports linking</li>
              <li>Supports reloading</li>
            </ul>
          </div>

          <div id="demo-routing-ember" class="step" data-x="37000" data-y="13000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2>...didn't have routing yet</h2>
            <pre>
              <h3 class='framework-name'>Ember</h3>
              <code class='medium'>
# app/assets/javascripts/app/history
App.router = Ember.Object.create
  routeList: []
  nameMatch: /:[\w\d]+/g
  nameReplacement: "([\\w\\d]+)"

  routes: (obj) ->
    App.router.add(key, value) for key, value of obj

  add: (path, callback) ->
    names = []
    if App.router.nameMatch.test(path)
      for name in path.match(App.router.nameMatch)
        names.push name.match(/[\w\d]+/)
        path = path.replace(App.router.nameMatch, App.router.nameReplacement, "g")

    routeObj = 
      path:  new RegExp("^#{path}$")
      names: names
      callback: callback

    App.router.routeList.push routeObj

  navigate: (path, title = null, params = {}) ->
    params["path"] ||= path
    History.pushState params, title, path

  dispatch: (hash) ->
    if route = @match(hash)
      params = {}
      parts = hash.match(route.path)
      params[route.names[i]] = value for value, i in parts.slice(1, parts.length)
      route.callback.call(App.main, params)
    else
      false

  match: (hash) ->
    for route in @routeList
      if route.path.test(hash)
        return route
              </code>
            </pre>
          </div>

          <div id="demo-routing-new-ember-app" class="step" data-x="37000" data-y="16000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2>New App Setup</h2>
            <pre>
              <h3 class='framework-name'>Ember</h3>
              <code>
App = Ember.Application.create({
  ApplicationController: Ember.Controller.extend(),
  ApplicationView: Ember.View.extend({
    templateName: 'application'
  }),

  ProductsController: Ember.Controller.extend(),
  ProductsView: Ember.View.extend({
    templateName: 'products'
  }),

  ProductController: Ember.Controller.extend(),
  ProductView: Ember.View.extend({
    templateName: 'product'
  }),
....
              </code>
            </pre>
          </div>

          <div id="demo-routing-new-ember-router" class="step" data-x="37000" data-y="19000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2>New Router</h2>
            <pre>
              <h3 class='framework-name'>Ember</h3>
              <code>
var router = Ember.Router.extend({
    root: Ember.Route.extend({
      products: Ember.Route.extend({
        route: "/products",
        showProduct: function(router, context) {
          router.transitionTo("product", context.context);
        },
        connectOutlets: function(router) {
          var products = App.productsController.all();
          router.get("applicationController").connectOutlet("products", products);
        }
      }),

      product: Ember.Route.extend({
        route: "/products/:id",
        connectOutlets: function(router, context) {
          var product  = App.productsController.find(context.id);
          router.get("applicationController").connectOutlet("product", product);
        }
      }),
....
              </code>
            </pre>
          </div>

          <div id="demo-routing-new-ember-layout" class="step" data-x="37000" data-y="22000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2>Layouts Outlets</h2>
            <pre>
              <h3 class='framework-name'>Ember</h3>
              <code>
&lt;script type="text/x-handlebars" data-template-name="application"&gt;
  &lt;h1&gt;Products&lt;/h1&gt;
  {{outlet}}
&lt;/script&gt;
              </code>
            </pre>
            <pre>
              <code>
&lt;script type='text/x-handlebars' data-template-name='products'&gt;
  &lt;h2>Products&lt;/h2&gt;
  &lt;ul&gt;
    {{#each product in controller}}
    &lt;li>&lt;a {{action showProduct product}}>{{product.name}}&lt;/a&gt;&lt;/li&gt;
    {{/each}}
  &lt;/ul&gt;
&lt;/script&gt;
              </code>
            </pre>
          </div>

          <div id="demo-routing-new-ember-app-init" class="step" data-x="37000" data-y="25000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2>New App Initialization</h2>
            <pre>
              <h3 class='framework-name'>Ember</h3>
              <code>
App.initialize(router);
              </code>
            </pre>
          </div>

          <div id="demo-routing-new-ember-app-serialize" class="step" data-x="37000" data-y="28000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2>URL Serialization</h2>
            <pre>
              <h3 class='framework-name'>Ember</h3>
              <code>
  serialize: function(router, context) {
    return {
      id: context.get("id");
    }
              </code>
              <code>http://hostname/#/product/123</code>
              <code>
  deserialize: function(router, params) {
    return {
      product: Product.find(params.id)
    }
              </code>
            </pre>
          </div>

          <div id="demo-routing-backbone" class="step" data-x="37000" data-y="7000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Routing</h1>
            <pre>
              <h3 class='framework-name'>Backbone</h3>
              <code>
# app/assets/javascripts/app/routes
App.Router = class Router extends Backbone.Router
  routes:
    "products"     : "index"
    "products/:id" : "show"
    ":category"    : "index"
    ""             : "index"

  index: (params) ->
    App.main.products.index.show(params)

  show: (params) ->
    App.main.products.show.show(params)
              </code>
            </pre>
          </div>

          <div id="demo-routing-why-srp-example" class="step" data-x="37000" data-y="7000" data-z="100" data-rotate-x="90" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <pre>
              <code>
$ ->
  $('body').on "click", "a.navigable", (e) ->
    App.router.navigate e.currentTarget.pathname, 
        trigger: true
    e.preventDefault()
              </code>
              <code>
&lt;a href='/products/123' class='navigable'&gt;Herringbone Blazer&lt;/a&gt;
              </code>
            </pre>
          </div>

          <div id="demo-routing-spine" class="step" data-x="37000" data-y="10000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Routing</h1>
            <pre>
              <h3 class='framework-name'>Spine</h3>
              <code>
# app/assets/javascripts/controllers/main
App.Main = class Main extends Spine.Controller
  constructor: ->
    routes:
      "/products"     :    @products.index.show
      "/products/:id" :    @products.show.show
      "/:category"    :    @products.index.show
      "/"             :    @products.index.show
              </code>
            </pre>
            <pre>
              <code>
# app/assets/javascripts/controllers/products/products
App.Controllers.Products.Section = class Products extends Spine.Stack
  constructor: ->
    @controllers = 
      index: App.Controllers.Products.Index.Main
      show:  App.Controllers.Products.Show.Main
    super
              </code>
            </pre>
            <ul>
              <li>Any Controller or Stack can route</li>
            </ul>
          </div>

<!-- 

          <div id="demo-routing-state-machine" class="step" data-x="37000" data-y="16000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>But it does have a state machine</h1>
            <pre>
              <code>
# app/assets/javascripts/app/manager
App.manager = Ember.StateManager.create
  rootElement: "#main"

  indexView: Ember.ViewState.create
    view: App.main.index
    initialState: true

  showView: Ember.ViewState.create
    view: App.main.detail

  show: (params) ->
    item = App.main.itemsController.find (item) ->
      item.get("id") is parseInt(params.id)
    App.main.detailController.set("content", item)
    App.manager.goToState("showView")

  index: ->
    App.manager.goToState("indexView")
    App.main.index.rebindWaypoint()

              </code>
            </pre>
          </div> -->

        </section>
<!-- 
        <section id='reloading-without-data'>
          <div id="demo-routing-what-if-isnt-loaded" class="step" data-x="41000" data-y="16000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>What if I need to show something</h1>
            <h2>and it's not loaded yet</h2>
            <ul>
              <li>Reload the page</li>
              <li>Click a link</li>
            </ul>
          </div>

          <div id="demo-routing-what-if-show-method" class="step" data-x="41000" data-y="20000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <pre>
              <code>
# app/assets/javascripts/controllers/main
App.Main = class Main extends Spine.Controller
  constructor: ->
    routes:
      "/products/:id" :    @products.show.show
              </code>
            </pre>
            <pre>
              <code>
# app/assets/javascripts/controllers/products/show
App.Controllers.Products.Show.Main = class Main extends Spine.Controller
render: (item) ->
  @html @detail.render(item).el
  @active()
  @

show: (params) =>
  if item = Product.exists(params.id)
    @render(item)
  else
    Product.nextPage =>
      Product.one "refresh", =>
        @show(params)

  ....
              </code>
            </pre>
          </div>


        </section>
 -->
      </section>



      <!-- Cart -->



      <section id='demo-cart'>

        <div id="demo-cart-intro" class="step" data-x="47000" data-y="1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Cart</h1>
        </div>

        <div id="demo-cart-backbone-cart" class="step" data-x="47000" data-y="4000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h2>Cart</h2>
          <pre>
            <h3 class='framework-name'>Backbone</h3>
            <code>
# app/assets/javascripts/app/collections/cart
App.Collections.Cart = class Cart extends Backbone.Collection
            </code>
          </pre>
        </div>

        <div id="demo-cart-backbone-view" class="step" data-x="47000" data-y="7000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h2>Cart</h2>
          <pre>
            <h3 class='framework-name'>Backbone</h3>
            <code>
# app/assets/javascripts/app/views/products/show/detail
App.Views.Products.Show.Detail = class Detail extends Backbone.View

  events: 
    "click button": "addToCart"

  initialize: ->
    window.cart.on "add", @handleButtonState

  addToCart: (e) =>
    window.cart.add @model

  handleButtonState: =>
    if window.cart.contains @model.id
      @$("button").attr "disabled", "disabled"
      @$("button").addClass "disabled"
      @$("button").text "In cart"
    else
      @$("button").removeAttr "disabled"
      @$("button").removeClass "disabled"
      @$("button").text "Add to cart"
            </code>
          </pre>
        </div>


        <div id="demo-cart-ember-template" class="step" data-x="47000" data-y="10000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h2>Cart</h2>
          <pre>
            <h3 class='framework-name'>Ember</h3>
            <code>
&lt;div class='action'&gt;
  &lt;button {{bindAttr class=&quot;inCart&quot;}} 
          {{action &quot;addToCart&quot;}} 
          {{bindAttr disabled=&quot;inCart&quot;}}&gt;
       {{cartStatus}}
  &lt;/button&gt;
&lt;/div&gt;
            </code>
          </pre>
        </div>

        <div id="demo-cart-ember-view" class="step" data-x="47000" data-y="13000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h2>Cart</h2>
          <pre>
            <h3 class='framework-name'>Ember</h3>
            <code>
# app/assets/javascripts/app/views/products/detail
App.DetailView = Ember.View.extend
  contentBinding: "productController.content"
  inCartBinding: "productController.inCart"

  addToCart: (e) ->
    @contentController.addToCart()
    e.preventDefault()

  cartStatus: (-> if @get("inCart") then "In cart" else "Add to cart").property("inCart")
  ...
            </code>
          </pre>
        </div>

        <div id="demo-cart-ember" class="step" data-x="47000" data-y="16000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h2>Cart</h2>
          <pre>
            <h3 class='framework-name'>Ember</h3>
            <code>
# app/assets/javascripts/app/controllers/products
App.ProductController = Ember.Object.extend
  content: null

  addToCart: ->
    if @canAdd()
      @cart.addObject(@get("content"))

  canAdd: -> 
    @get("content") and !@inCart

  inCart: (-> @cart.contains(@get("content"))).property("cart.content")
            </code>
          </pre>
        </div>


      </section>

      <section id='magic-and-boilerplate'>
        <div id="magic" class="step" data-x="47000" data-y="20000" data-z="5000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3"><h1>magic</h1></div>

        <div id="boilerplate" class="step" data-x="47000" data-y="20000" data-z="5000" data-rotate-x="-90" data-rotate-y="0" data-rotate-z="0" data-scale="3"><h1>boilerplate</h1></div>

        <div id="magic-convention" class="step" data-x="47000" data-y="20000" data-z="5000" data-rotate-x="0" data-rotate-y="90" data-rotate-z="0" data-scale="3"><h1>conventions</h1></div>

        <div id="boilerplate-freedom" class="step" data-x="47000" data-y="20000" data-z="5000" data-rotate-x="90" data-rotate-y="90" data-rotate-z="0" data-scale="3"><h1>freedom</h1></div>
      </section>



      <!-- Models -->
<!-- 

      <section id="demo-models">
        <section id='demo-models-backbone'>
          <div id="demo-models-backbone-intro" class="step" data-x="34000" data-y="0" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Models &amp; Collections</h1>
            <h2>Backbone</h2>
          </div>

          <div id="demo-models-backbone-product-model" class="step" data-x="34000" data-y="2000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Model</h1>
            <pre>
              <code>
# app/assets/javascripts/app/models/product
App.Models.Product = class Product extends Backbone.Model
              </code>
            </pre>
          </div>

          <div id="demo-models-duplicate-errrr" class="step" data-x="34000" data-y="5000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>errrrr..</h1>
            <pre>
              <code class='medium'>
window.Patient = class Patient extends Spine.Model
...                  
@isValidSSN: (value, element) ->
  re = /^([0-6]\d{2}|7[0-6]\d|77[0-2])([ \-]?)(\d{2})\2(\d{4})$/
  temp = value.replace(/-|\s/g, "")
  return false unless re.test(temp) 
  return false if (temp.substring(0, 3) == "000") or (temp.substring(3, 5) == "00") or (temp.substring(5, 9) == "0000")
  return true
  
@isValidBirthdate: (value, element) ->
  date = Date.parseExact(value, ["M/d/yyyy", "M-d-yyyy"])
  return false unless date
  dateIsTodayOrEarlier = (Date.today().compareTo(date) >= 0)
  return false unless dateIsTodayOrEarlier
  return true

validate: ->
  ssn = @ssn_entry || @formatted_ssn || @ssn
  birthdate = @birthdate_entry || @birthdate
  errors = {}
  ssn_errors = []
  birthdate_errors = []

  if @newRecord
    ssn_errors.push("must be an SSN") unless ssn and @constructor.isValidSSN(ssn)
    birthdate_errors.push("must be a valid date") unless birthdate and @constructor.isValidBirthdate(birthdate)

  errors.ssn = ssn_errors if ssn_errors.length > 0
  errors.birthdate = birthdate_errors if birthdate_errors.length > 0
  if $.isEmptyObject(errors) then return null else return errors

parseBirthdateEntry: ->
  @birthdate = Date.parse(@birthdate_entry) if @birthdate_entry?

parseSsnEntry: ->
  if @ssn_entry?
    @ssn = @ssn_entry.replace(/-/g, "")
    @masked_ssn = "XXX-XX-" + @ssn_entry.slice(-4)
    @formatted_ssn = @ssn.slice(0, 3) + "-" + @ssn.slice(3,5) + "-" + @ssn.slice(5,9)

full_name: ->
  [@first_name, @middle_name, @last_name].join(" ").replace(/\s{2}/g, " ")
              </code>
            </pre>
          </div>

          <div id="demo-models-duplicate-logic" class="step" data-x="34000" data-y="8000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>You'll end up duplicating</h1>
            <ul>
              <li>Validators</li>
              <li>Virtual accessors</li>
              <li>View-oriented helpers</li>
              <li>Basically all of ActiveSupport</li>
            </ul>
          </div>

          <div id="demo-models-backbone-persistence-adapter" class="step" data-x="34000" data-y="11000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Model Persistence</h1>
            <h2>Backbone &amp; Spine REST</h2>
            <ul class='api-doc'>
              <li>
                <dd>fetch()</dd>
                <dt>GET /products/123</dt>
              </li>
              <li>
                <dd>create()</dd>
                <dt>POST /products</dt>
              </li>
              <li>
                <dd>save()</dd>
                <dt>POST /products</dt>
                <dt>PUT  /products/123</dt>
              </li>
              <li>
                <dd>destroy()</dd>
                <dt>DELETE /products/123</dt>
              </li>
            </ul>
          </div>
          <div id="demo-collection-backbone-persistence" class="step" data-x="34000" data-y="14000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Collection Persistence</h1>
            <h2>Backbone &amp; Spine REST</h2>
            <ul class='api-doc'>
              <li>
                <dd>fetch()</dd>
                <dt>GET /products</dt>
              </li>
            </ul>
          </div>

          <div id="demo-collection-backbone-persistence-ajax-options" class="step" data-x="34000" data-y="17000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Bacbone Custom AJAX</h1>
            <h2>jQuery syntax</h2>
            <pre>
              <code>
# app/assets/javascripts/app/collections/products
App.Collections.Products = class Products extends Backbone.Collection
url: "/products"

nextPage: (options) =>
  options = options or {}
  options = $.extend {}, {add: true}, options
  @fetch
    data: 
      page:     @next_page
      per_page: @calculatePerPage()
      category: @category
    add: options.add

parse: (data, xhr) ->
  @handlePaging(xhr)
  super data, xhr
              </code>
            </pre>
          </div>

          <div id="demo-collection-persistence-paging" class="step" data-x="34000" data-y="17000" data-z="1500" data-rotate-x="90" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Some conventions we break</h1>
            <pre>
              <code>
config.include_json_root = false
              </code>
            </pre>
            <pre>
              <code>
X-Pagination:page: 2, per_page: 20, next_page: 3, total_pages: 37
              </code>
            </pre>
          </div>

          <div id="demo-collection-spine-persistence-ajax-options" class="step" data-x="34000" data-y="20000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Spine Custom AJAX</h1>
            <h2>jQuery syntax</h2>
            <pre>
              <code>
# app/assets/javascripts/app/models/product
App.Models.Product = class Product extends Spine.Model
@configure "Product", "id", "name", "designer_name", "price", "image_url", "description", "category"
@extend Spine.Model.Ajax

...

@nextPage: (callback) ->
  @one "paginated", @handlePaging
  @one "paginated", callback if typeof callback is "function"
  Product.fetch 
    data:
      page:     Product.next_page
      per_page: Product.calculatePerPage()
      category: Product.category
    processData: true
    success: (data, status, xhr) =>
      @trigger("paginated", data, status, xhr)

              </code>
            </pre>
          </div>

        </section>

        <section id="demo-models-controllers-ember">
          <div id="demo-models-controllers-ember-object" class="step" data-x="34000" data-y="23000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Ember Models</h1>
            <pre>
              <code>
# app/assets/javascripts/app/models/product
App.Product = Ember.Object.extend

title: (-> 
  @get("designer_name") + ": " + @get("name")
  ).property("designer_name", "name")
              </code>
            </pre>
            <h2>Are really just objects</h2>
          </div>

          <div id="demo-models-controllers-ember-controller-just-object" class="step" data-x="34000" data-y="27000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Ember Controllers</h1>
            <pre>
              <code>
# app/assets/javascripts/app/controllers/item
App.ProductController = Ember.Object.extend
content: null

addToCart: ->
  if @canAdd()
    @cart.addObject(@get("content"))

canAdd: -> 
  @get("content") and !@inCart

inCart: Ember.computed(-> @cart.contains(@get("content"))).property("content")
              </code>
            </pre>
            <pre>
              <code>
# app/assets/javascripts/app/index
->
@detailController = App.ProductController.create
  content: null
  cart: @cart
              </code>
            </pre>
            <h2>Are also just objects</h2>
          </div>

          <div id="demo-models-controllers-ember-controller-ajax" class="step" data-x="34000" data-y="30000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h1>Ember Controllers</h1>
            <pre>
              <code>
# app/assets/javascripts/app/controllers/items
App.ItemsController = Ember.ArrayController.extend
...
getItems: ->
  self = @
  $.ajax
    url: "/products"
    type: "GET"
    contentType: "application/json"
    dataType: "json"
    data: 
      page: @.get("next_page")
      per_page: @get("per_page")
      category: @get("category")
    success: (data, status, xhr) ->
      self.setContent(data)
      self.handlePaging(xhr)

setContent: (data) ->
  @addObject(App.Product.create(item)) for item in data

....
              </code>
            </pre>
            <h2>except for the special ones</h2>
          </div>

        </section>

      </section>

 -->
      <!-- Grading -->

      <section id="grading">
        <div id="grading-intro" class="step" data-x="50000" data-y="1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>How'd we do?</h1>
        </div>

        <section id='grading-backbone'>
          <div id="grading-backbone-structure" class="step" data-x="50000" data-y="3000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Backbone</h2>
            <h1 class='question'>Can I build a big app?</h1>
            <div class='answer'><p>Sorta</p></div>
            <ul><li>Lots of boilerplate</li><li>Structure is ad-hoc</li></ul>
          </div>

          <div id="grading-backbone-explain" class="step" data-x="50000" data-y="4000" data-z="3000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Backbone</h2>
            <h1 class='question'>Can I explain it to someone else?</h1>
            <div class='answer'><p>Yes</p></div>
            <ul><li>Very simple</li><li>Large, helpful community</li></ul>
          </div>

          <div id="grading-backbone-spend-money" class="step" data-x="50000" data-y="5000" data-z="6000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Backbone</h2>
            <h1 class='question'>Should I spend my client's money?</h1>
            <div class='answer'><p>Probably</p></div>
            <ul><li>No mysteries</li><li>Very large apps might get cumbersome</li></ul>
          </div>

          <div id="grading-backbone-use" class="step" data-x="50000" data-y="6000" data-z="9000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Backbone</h2>
            <h1>I use it for</h1>
            <ul><li>Widgets</li><li>Small-to-medium apps</li><li>Anything off the beaten path</li></ul>
          </div>
        </section>


        <section id='grading-spine'>
          <div id="grading-spine-structure" class="step" data-x="56000" data-y="3000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Spine</h2>
            <h1 class='question'>Can I build a big app?</h1>
            <div class='answer'><p>Yes</p></div>
            <ul><li>Stacks are a key building block</li><li>Structure is ad-hoc</li></ul>
          </div>

          <div id="grading-spine-explain" class="step" data-x="56000" data-y="4000" data-z="3000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Spine</h2>
            <h1 class='question'>Can I explain it to someone else?</h1>
            <div class='answer'><p>Mostly</p></div>
            <ul><li>Backbone users get it</li><li>Quirky</li></ul>
          </div>

          <div id="grading-spine-spend-money" class="step" data-x="56000" data-y="5000" data-z="6000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Spine</h2>
            <h1 class='question'>Should I spend my client's money?</h1>
            <div class='answer'><p>Yes</p></div>
            <ul><li>Growth is simple</li><li></li></ul>
          </div>

          <div id="grading-spine-use" class="step" data-x="56000" data-y="6000" data-z="9000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Spine</h2>
            <h1>I use it for</h1>
            <ul><li>General purpose apps</li><li>Resource/CRUD-style apps</li><li></li></ul>
          </div>
        </section>


        <section id='grading-ember'>
          <div id="grading-ember-structure" class="step" data-x="62000" data-y="3000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Ember</h2>
            <h1 class='question'>Can I build a big app?</h1>
            <div class='answer'><p>I'm Told "Yes"</p></div>
            <ul><li>App structure is coming together</li><li>New router is a nice touch</li></ul>
          </div>

          <div id="grading-ember-explain" class="step" data-x="62000" data-y="4000" data-z="3000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Ember</h2>
            <h1 class='question'>Can I explain it to someone else?</h1>
            <div class='answer'><p>Evidently Not</p></div>
            <ul><li>I usually have no idea what's going on</li><li>Documentation is still weak</li></ul>
          </div>

          <div id="grading-ember-spend-money" class="step" data-x="62000" data-y="5000" data-z="6000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Ember</h2>
            <h1 class='question'>Should I spend my client's money?</h1>
            <div class='answer'><p>Not Yet</p></div>
            <ul><li>Uncertainty abounds</li><li></li></ul>
          </div>

          <div id="grading-ember-use" class="step" data-x="62000" data-y="6000" data-z="9000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
            <h2 class='framework-name'>Ember</h2>
            <h1>I use it for</h1>
            <ul><li>Generating frustration</li><li></li><li></li></ul>
          </div>          
        </section>

      </section>


      <!-- Outro -->



      <section id="outro">

        <div id="outro-tape" class="step" data-x="80000" data-y="1000" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <img src="images/studer_a800.jpg" style="width: 600px;" />
        </div>

        <div id="outro-console" class="step" data-x="80000" data-y="4000" data-z="15" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <img src="images/Skywalker_console.jpeg" style="width: 800px;" />
        </div>

        <div id="outro-adat" class="step" data-x="80000" data-y="7000" data-z="-15" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <img src="images/38_adat_color.jpg" style="width: 800px;" />
        </div>

        <div id="outro-pro-tools" class="step" data-x="80000" data-y="10000" data-z="15" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <img src="images/Pro Tools.png" style="width: 1000px;" />
        </div>

      </section>

      <section id="thanks">
        <div id="thanks-title" class="step" data-x="40000" data-y="1000" data-z="10000" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="3">
          <h1>Thanks!</h1>
          <h2>@scottburton</h2>
        </div>
      </section>

    </div>
    <script src="javascripts/impress.js" type="text/javascript"></script>
    <script>impress();</script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>